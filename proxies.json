{
    "$schema": "http://json.schemastore.org/proxies",
    "proxies": {
        "Get Sessions": {
            "matchCondition": {
                "route": "/v1/sessions/{year}",
                "methods": [
                    "GET"
                ]
            },
            "backendUri": "%FunctionWebsiteName%/api/Get-Sessions?code=%FunctionApiKey%&year={year}"
        },
        "Lets Encrypt": {
            "matchCondition": {
                "route": "/.well-known/acme-challenge/{*rest}"
            },
            "backendUri": "%FunctionWebsiteName%/api/letsencrypt/{rest}"
        },
        "Search Sessions": {
            "matchCondition": {
                "route": "/v1/sessions/search/{term}",
                "methods": [
                    "GET",
                    "POST"
                ]
            },
            "backendUri": "https://dddsydney.search.windows.net/indexes/searchable-sessions/docs?api-version=2016-09-01&search={term}",
            "requestOverrides": {
                "backend.request.headers.api-key": "%AzureSearchAPIKey%"
            }
        },
        "Swagger": {
            "matchCondition": {
                "route": "/.well-known/swagger",
                "methods": [
                    "GET"
                ]
            },
            "backendUri": "%FunctionWebsiteName%/admin/host/swagger?code=%SwaggerKey%"
        },
        "Get Session": {
            "matchCondition": {
                "route": "/v1/session/{id}",
                "methods": [
                    "GET"
                ]
            },
            "backendUri": "%FunctionWebsiteName%/api/Get-Session?code=%FunctionApiKey%&id={id}"
        },
        "Vote": {
            "matchCondition": {
                "route": "/v1/vote/{year}",
                "methods": [
                    "POST"
                ]
            },
            "backendUri": "%FunctionWebsiteName%/api/Save-Vote?code=%FunctionApiKey%&year={year}"
        }
    }
}